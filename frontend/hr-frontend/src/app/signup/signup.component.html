<div class="signup-page">
  <!-- Theme Toggle -->
  <div class="theme-toggle-wrapper">
    <app-theme-toggle></app-theme-toggle>
  </div>

  <!-- Signup Card -->
  <div class="signup-card fade-in">
    <!-- Logo/Title -->
    <div class="card-header">
      <h1 class="app-title">HR Agentic System</h1>
      <p class="app-subtitle">AI-Powered HR Management</p>
    </div>

    <!-- Signup Form -->
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
      <h2 class="form-title">Create Account</h2>

      <!-- Success Message -->
      <div *ngIf="successMessage" class="success-banner">
        <svg class="success-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {{ successMessage }}
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="error-banner">
        <svg class="error-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        {{ errorMessage }}
      </div>

      <!-- Name Fields (Grid) -->
      <div class="form-row">
        <div class="form-group">
          <label for="first_name" class="form-label">First Name</label>
          <input
            type="text"
            id="first_name"
            formControlName="first_name"
            class="form-input"
            placeholder="John"
            required>
          <div *ngIf="signupForm.get('first_name')?.invalid && signupForm.get('first_name')?.touched" class="form-error">
            First name is required
          </div>
        </div>

        <div class="form-group">
          <label for="last_name" class="form-label">Last Name</label>
          <input
            type="text"
            id="last_name"
            formControlName="last_name"
            class="form-input"
            placeholder="Doe"
            required>
          <div *ngIf="signupForm.get('last_name')?.invalid && signupForm.get('last_name')?.touched" class="form-error">
            Last name is required
          </div>
        </div>
      </div>

      <!-- Username Field -->
      <div class="form-group">
        <label for="username" class="form-label">Username</label>
        <input
          type="text"
          id="username"
          formControlName="username"
          class="form-input"
          placeholder="john_doe"
          required>
        <div *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched" class="form-error">
          Username is required
        </div>
      </div>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-input"
          placeholder="john.doe@company.com"
          required>
        <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" class="form-error">
          <span *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</span>
          <span *ngIf="signupForm.get('email')?.errors?.['email']">Please enter a valid email</span>
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-group">
        <label for="password" class="form-label">Password</label>
        <input
          type="password"
          id="password"
          formControlName="password"
          class="form-input"
          placeholder="Minimum 6 characters"
          required>
        <div *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched" class="form-error">
          <span *ngIf="signupForm.get('password')?.errors?.['required']">Password is required</span>
          <span *ngIf="signupForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
        </div>
      </div>

      <!-- Role Field -->
      <div class="form-group">
        <label for="role" class="form-label">Role</label>
        <select id="role" formControlName="role" class="form-select" required>
          <option value="employee">Employee</option>
          <option value="manager">Manager</option>
          <option value="hr">HR</option>
          <option value="admin">Admin</option>
        </select>
      </div>

      <!-- Submit Button -->
      <button type="submit" [disabled]="!signupForm.valid" class="submit-button">
        <span>Create Account</span>
        <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
        </svg>
      </button>
    </form>

    <!-- Login Link -->
    <div class="card-footer">
      <p class="footer-text">
        Already have an account?
        <button type="button" (click)="goToLogin()" class="link-button">Sign In</button>
      </p>
    </div>
  </div>
</div>
